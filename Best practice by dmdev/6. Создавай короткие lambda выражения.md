Когда ты используешь Stream API или Optional с его приятными методами map(), filter(), etc - избегай длинных и сложных lambda выражений в них.
Их не только становится сложно читать, но такой подход убивает всю суть стримов: их компактность и быстрое понимание общей логики кода. Благодаря компактности у программиста появляется возможность смотреть на код с высоты птичьего полета. А если нужны более подробные детали - то уже опускаешься глубже в каждый конкретный метод map(), filter(), etc.  

Поэтому, если lambda выражение становится сложным:
- вынеси ее в отдельный метод или даже разбей на несколько
- давай хорошие названия параметрам, если они помогают чтению lambda выражений

Например, вряд ли кому-то понравится код, который выглядит примерно так:
`
```
.flatMap(
it -> {
 try {
 return readFile(it.getId()).stream();
 } catch (IOException e) {
return Stream.empty();
}
})
```

Здесь не все так плохо еще, потому что хотя бы вынесена логика по чтению файла в отдельный метод readFile. 
Но гораздо приятнее видеть такое:

```
.flatMap(fileDescriptor -> readFileAsByteStream(fileDescriptor.getId()))
```

Здесь мне каждая деталь помогает понять логику
- и название fileDescriptor
- и что я буду считывать файл на основании id из fileDescriptor
- и даже результат этого чтения: стрим байт

P.S. Заметил, что с каждым постом реакций все меньше.
Дай огня, если хочешь продолжение этого адвента.